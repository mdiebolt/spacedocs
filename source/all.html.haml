<!doctype html>
%html
  %head
    %meta(charset="utf-8")
    %meta(content="IE=edge,chrome=1" http-equiv="X-UA-Compatible")

    %title Spacedocs

    %link(href="/stylesheets/docs.css" media="screen, projection" rel="stylesheet" type="text/css")
    %script(src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript")
    %script(src="/javascripts/docs.js" type="text/javascript")

  %body
    %nav
      -class_names.sort.each do |doc_class|
        %p= doc_class
    = partial('method_list.html.haml')
    .documentation
      -doc_json.each do |class_data|
        -class_data.each_pair do |class_name, data|
          -data['methods'].each_pair do |method_name, method_data|
            %h1= method_name
            .description
              %section.summary
                %p= method_data['summary']

              %section.usage
                %h3 Usage
                %p= method_data['code_sample']

              - if method_data['params'].length > 0
                %section.parameters
                  %h3 Parameters
                  %ul
                    - method_data['params'].each do |param|
                      - param.each_pair do |param_name, param_data|
                        %li
                          %span.param_name= param_name
                          = " - "
                          %span.param_description= param_data['description']

              -if method_data['returns']
                %section.returns
                  %h3 Returns
                  %p
                    %span.type
                      %p
                        Type:
                        %a(href='#')= method_data['returns']['type']
                    %p.return_description= method_data['returns']['description']

              %section.source
                %h3 Source
                %a.toggle_source Toggle
                %pre
                  %code= method_data['source']
            %hr